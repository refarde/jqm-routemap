<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,height=device-height,initial-scale=1">
	<title>Dijkstra Algorithm Test</title>
	<script src="http://code.jquery.com/jquery-1.9.1.js"></script>
	<script src="./dijkstra.js"></script>
</head>
<body>
	<script>
		var dijkstra = jQuery.dijkstra,
		    graph,
		    path,
		    paths;

		// A B C
		// D E F
		// G H I
		graph = {
		  a: {b: 10, d: 1},
		  b: {a: 1, c: 1, e: 1},
		  c: {b: 1, f: 1},
		  d: {a: 1, e: 1, g: 1},
		  e: {b: 1, d: 1, f: 1, h: 1},
		  f: {c: 1, e: 1, i: 1},
		  g: {d: 1, h: 1},
		  h: {e: 1, g: 1, i: 1},
		  i: {f: 1, h: 1}
		};
		path = dijkstra.find_path(graph, 'a', 'i');
		//assert.deepEqual(path, ['a', 'd', 'e', 'f', 'i']);
		document.writeln( 'a, i : ' + path + "<br>" );

		graph = {
		  a: {b: 10, c: 100, d: 1},
		  b: {c: 10},
		  d: {b: 1, e: 1},
		  e: {f: 1},
		  f: {c: 1},
		  g: {b: 1}
		};
		// Reachable destination
		path = dijkstra.find_path(graph, 'a', 'c');
		document.writeln( 'a, c : ' + path + "<br>" );	
		//assert.deepEqual(path, ['a', 'd', 'e', 'f', 'c']);
		path = dijkstra.find_path(graph, 'd', 'b');
		document.writeln( 'd, b : ' + path + "<br>" );
		//assert.deepEqual(path, ['d', 'b']);
		
		// Unreachable destination
		// assert.throws(function () {
		//   find_path(graph, 'c', 'a');
		// }, Error);
		// assert.throws(function () {
		//   find_path(graph, 'a', 'g');
		// }, Error);
		// // Nonexistent destination
		// assert.throws(function () {
		//   find_path(graph, 'a', 'z');
		// }, Error);

		// All paths from 'a'
		paths = dijkstra.single_source_shortest_paths(graph, 'a');
		document.writeln( 'graph  a: ' + paths + "<br>" );
		console.log( paths );
		// assert.deepEqual(paths, {
		//   d: 'a', 
		//   b: 'd', 
		//   c: 'b', 
		//   e: 'd', 
		//   f: 'e', 
		//   c: 'f'
		// });
	</script>
</body>
</html>
